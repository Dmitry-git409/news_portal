{%extends 'news/default.html'%}
{% load custom_filters %}

{%block content%}
    <h2>All news ({{posts|length}}).</h2>
    <h2>{{time_now}}</h2>
<!--    <h3> {{ value1|default_if_none:"ничего" }} </h3> -->
    <hr>
    {%if posts%}
            <table>
                <tr>
                    <td>
                        <h2>Title</h2>
                    </td>
                    <td>
                        <h2>Published</h2>
                    </td>
                    <td>
                        <h2>Content</h2>
                    </td>
                </tr>
        {%for p in posts|dictsortreversed:'time_create'%}
                <tr>
                    <td>
                        <p>{{p.title|censor}}</p>
                    </td>
                    <td>
                        <p>{{p.time_create|date:'D M Y: h i s'}}</p>
                    </td>
                    <td>
                        <p>{{p.content|truncatechars:50|censor}}</p>
                    </td>
                </tr>
        {%endfor%}
            </table>
    {%else%}
        <h2>Nothing news</h2>
    {%endif%}
{%endblock content%}

<!--{%block title%}-->
<!--Posts.-->
<!--{%endblock title%}-->
